/**
 * @module published-data/types
 * Excel から読み込んだ公開データセットの型定義
 *
 * @see ADR 0029 for design rationale
 */

import type { 年齢年行列 } from "../stock/calculation/strategy";
import type { 資源名 } from "../stock/stock/model";

/**
 * Excel から読み込んだ公開データセット
 */
export interface 公開データセット {
  /** 資源名（Excel 内のタイトルから自動検出） */
  資源名: 資源名;

  /** 評価年度 */
  年度: number;

  /** コホート解析結果（補足表2-1 などから読み込み） */
  コホート解析結果: コホート解析結果;

  /** 将来予測結果（表5-1, 5-2 などから読み込み） */
  将来予測結果?: 将来予測結果;
}

/**
 * コホート解析結果
 *
 * 補足表2-1 に相当するデータ構造
 */
export interface コホート解析結果 {
  /** 最終年（評価対象の最終年） */
  最終年: number;

  /** 年齢別漁獲尾数（千尾） */
  年齢別漁獲尾数: 年齢年行列<"千尾">;

  /** 年齢別漁獲量（Excel: 千トン → 内部: トン ×1000） */
  年齢別漁獲量: 年齢年行列<"トン">;

  /** 年齢別漁獲係数 F */
  年齢別漁獲係数: 年齢年行列<"無次元">;

  /** 年齢別資源尾数（千尾） */
  年齢別資源尾数: 年齢年行列<"千尾">;

  /** 年齢別資源量（トン） */
  年齢別資源量: 年齢年行列<"トン">;

  /** 親魚量（トン）- 年齢別資源量の合計（各年） */
  親魚量: 年齢年行列<"トン">;

  /** 加入量（千尾）- 0歳の資源尾数（各年） */
  加入量: 年齢年行列<"千尾">;

  /** %SPR（年ごとの値） */
  SPR: Map<number, number>;

  /** F/Fmsy（年ごとの値） */
  F_Fmsy: Map<number, number>;
}

/**
 * 将来予測結果
 *
 * 表5-1, 5-2 などに相当するデータ構造
 */
export interface 将来予測結果 {
  年齢別漁獲係数: 年齢年行列<"無次元">;

  年齢別平均資源尾数: 年齢年行列<"千尾">;

  年齢別平均資源量: 年齢年行列<"トン">;

  年齢別平均漁獲量: 年齢年行列<"トン">;

  年齢別平均漁獲尾数: 年齢年行列<"千尾">;
}
